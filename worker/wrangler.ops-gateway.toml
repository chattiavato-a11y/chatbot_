# worker/wrangler.ops-gateway.toml

name = "ops-gateway"
main = "ops-gateway.js"
compatibility_date = "2026-01-05"
workers_dev = true

# Public edge worker:
# - Requires service binding to ops-brain
# - Requires Workers AI binding for FIREWALL (llama-guard)
# - Optional KV bindings (commented)

[ai]
binding = "FIREWALL"

# Service binding: ops-gateway -> ops-brain
[[services]]
binding = "BRAIN"
service = "ops-brain"

# OPTIONAL KV (only if/when you want them)
# [[kv_namespaces]]
# binding = "OPS_RL"
# id = "YOUR_KV_ID_FOR_RATE_LIMIT"

# [[kv_namespaces]]
# binding = "OPS_EVENTS"
# id = "YOUR_KV_ID_FOR_EVENTS"

